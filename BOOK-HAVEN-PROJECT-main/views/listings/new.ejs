<% layout('/layouts/boilerplate') %>

<body>
    <h3>Create a New Listing</h3>
    <form action="/listings" method="POST" novalidate class="needs-validation">

        <div class="mb-3">
            <label for="title" class="form-label">Title:</label>
            <input 
                type="text" 
                id="title"
                name="title" 
                placeholder="Enter title"
                required 
                class="form-control">
            <div class="valid-feedback">Looks good!</div>
            <div class="invalid-feedback">Please enter a title.</div>
        </div>

        <div class="mb-3">
            <label for="author" class="form-label">Author:</label>
            <input 
                type="text" 
                id="author" 
                name="author" 
                placeholder="Enter author" 
                required 
                class="form-control">
            <div class="valid-feedback">Looks good!</div>
            <div class="invalid-feedback">Please enter an author name.</div>
        </div>

        <div class="mb-3">
            <label for="description" class="form-label">Description:</label>
            <textarea 
                id="description" 
                name="description" 
                placeholder="Enter description" 
                required 
                class="form-control"></textarea>
            <div class="valid-feedback">Looks good!</div>
            <div class="invalid-feedback">Please provide a description.</div>
        </div>

        <div class="mb-3">
            <label for="category" class="form-label">Category:</label>
            <input 
                type="text" 
                id="category" 
                name="category" 
                placeholder="Enter category" 
                required 
                class="form-control">
            <div class="valid-feedback">Looks good!</div>
            <div class="invalid-feedback">Please enter a category.</div>
        </div>

        <div class="mb-3">
            <label for="publisher" class="form-label">Publisher:</label>
            <input 
                type="text" 
                id="publisher" 
                name="publisher" 
                placeholder="Enter publisher" 
                required 
                class="form-control">
            <div class="valid-feedback">Looks good!</div>
            <div class="invalid-feedback">Please enter a publisher name.</div>
        </div>

        <div class="mb-3">
            <label for="publication_year" class="form-label">Publication Year:</label>
            <input 
                type="number" 
                id="publication_year" 
                name="publication_year" 
                placeholder="Enter year" 
                required 
                class="form-control">
            <div class="valid-feedback">Looks good!</div>
            <div class="invalid-feedback">Please enter a valid publication year.</div>
        </div>

        <div class="mb-3">
            <label for="stock" class="form-label">Stock:</label>
            <input 
                type="number" 
                id="stock" 
                name="stock" 
                placeholder="Enter stock quantity" 
                required 
                class="form-control">
            <div class="valid-feedback">Looks good!</div>
            <div class="invalid-feedback">Please enter the stock quantity.</div>
        </div>

        <div class="mb-3">
            <label for="language" class="form-label">Language:</label>
            <input 
                type="text" 
                id="language" 
                name="language" 
                placeholder="Enter language" 
                required 
                class="form-control">
            <div class="valid-feedback">Looks good!</div>
            <div class="invalid-feedback">Please enter a language.</div>
        </div>

        <div class="mb-3">
            <label for="price" class="form-label">Price (â‚¹):</label>
            <input 
                type="number" 
                id="price" 
                name="price" 
                placeholder="Enter price" 
                step="0.01" 
                required 
                class="form-control">
            <div class="valid-feedback">Looks good!</div>
            <div class="invalid-feedback">Please enter a valid price.</div>
        </div>

        <div class="mb-3">
            <label for="image" class="form-label">Image URL:</label>
            <input 
                type="url" 
                id="image" 
                name="image" 
                placeholder="Enter image URL" 
                required 
                class="form-control">
            <div class="valid-feedback">Looks good!</div>
            <div class="invalid-feedback">Please enter a valid image URL.</div>
        </div>

        <button type="submit" class="btn btn-primary">Add Listing</button>
    </form>

    <!-- Bootstrap Validation Script -->
    <script>
        (function () {
            'use strict';
            var forms = document.querySelectorAll('.needs-validation');

            Array.prototype.slice.call(forms).forEach(function (form) {
                form.addEventListener('submit', function (event) {
                    if (!form.checkValidity()) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    form.classList.add('was-validated');
                }, false);
            });
        })();
    </script>
</body>
